	.TITLE	ART
	.PSECT

; Overlay #1
; Size of this overlay: 2404. words
; Starts at 0x6c00 = 066000 in the ART.SAV file

; Overlay call
; Выбран пункт "Текст" в главном меню
ART10::
J65634: MOV	056110, R0
J65640: MOV	R0, -(SP)
J65642: CALL	K54052
J65646: CALL	K26476
J65652: MOV	(SP)+, R0
J65654: MOV	R0, 056110
J65660: BEQ	J65712
J65662: CALL	K56222
J65666: MOV	056146, R3
J65672: MOV	056150, R4
J65676: MOV	056152, R1
J65702: MOV	056154, R4
J65706: CALL	K60404
J65712: MOV	#065756, R5
J65716: MOV	K65276, 000012(R5)
J65724: MOV	R5, K65276
J65730: MOV	(R5), R3
J65732: MOV	000002(R5), R4
J65736: MOV	000004(R5), R1
J65742: MOV	000006(R5), R2
J65746: CALL	K13264
J65752: JMP	K63646
;
J65756: .WORD	000160,000010,000170,000260,024540,K30076,071416
	.WORD	000000,000000,000170,000017,000000,154000
	.ASCII	/Текст/<000>
	.WORD	000000,000017,000170,000005,000000,104200
	.WORD	000000
	.WORD	000000,000023,000170,000013,066730,107600
	.ASCII	/Слева направо/<000>
	.WORD	000000,000035,000170,000013,066730,107600
	.ASCII	/Сверху вниз/<000>
	.WORD	000000,000047,000170,000003,000000,104200
	.WORD	000000
	.WORD	000000,000051,000170,000013,071456,104600
	.ASCII	/Нормал. высота/<000><000>
	.WORD	000000,000063,000170,000013,071456,104600
	.ASCII	/Двойная высота/<000><000>
	.WORD	000000,000075,000170,000013,071456,104602
	.ASCII	/Тройная высота/<000><000>
	.WORD	000000,000107,000170,000003,000000,104200
	.WORD	000000
	.WORD	000000,000111,000170,000013,071550,104602
	.ASCII	/Нормал. ширина/<000><000>
	.WORD	000000,000123,000170,000013,071550,104600
	.ASCII	/Двойная ширина/<000><000>
	.WORD	000000,000135,000170,000013,071550,104600
	.ASCII	/Тройная ширина/<000><000>
	.WORD	000000,000147,000170,000003,000000,104200
	.WORD	000000
	.WORD	000000,000151,000170,000013,071664,104600
	.ASCII	/Сторона/<000>
	.WORD	000000,000163,000170,000013,071706,104600
	.ASCII	/Полужирный/<000><000>
	.WORD	000000,000175,000170,000013,071730,104600
	.ASCII	/Верхн. ряд/<000><000>
	.WORD	000000,000207,000170,000003,000000,104200
	.WORD	000000
	.WORD	000000,000211,000170,000013,071752,104600
	.ASCII	/Snap hrz./<000>
	.WORD	000000,000223,000170,000013,071774,104600
	.ASCII	/Snap vrt./<000>
	.WORD	000000,000235,000170,000003,000000,104200
	.WORD	000000
	.WORD	000000,000237,000170,000013,066724,104700
	.ASCII	/Ред. шрифта/<000>
	.WORD	000000,000252,000170,000006,000000,104200
	.WORD	000000
	.WORD	177777
;
J66724: .WORD	000167			; ??
	.WORD	112202			; ??
;
J66730: MOVB	025521, R0
J66734: MOV	R0, 072030
J66740: CALL	K54052
J66744: CALL	K26476
J66750: MOV	072022, R0
J66754: ASL	R0
J66756: ASL	R0
J66760: ASL	R0
J66762: MOVB	R0, K25520
J66766: MOV	072020, R0
J66772: ASL	R0
J66774: ASL	R0
J66776: ASL	R0
J67000: MOVB	R0, 025521
J67004: TST	072064
J67010: BEQ	J67030
J67012: MOVB	025521, R0
J67016: MOVB	K25520, 025521
J67024: MOVB	R0, K25520
J67030: MOVB	K25520, 072024
J67036: MOVB	025521, 072026
J67044: MOV	K30536, R3
J67050: INC	R3
J67052: MOVB	K25520, (R3)+
J67056: MOVB	025521, (R3)+
J67062: MOV	R3, 072060
J67066: MOV	#000011, R0
J67072: CALL	K62000
J67076: CALL	J67354
J67102: CALL	J67230
J67106: CALL	K61754			; Clean input buffer
J67112: CALL	K45776			; Read input and set input bits
J67116: MOV	K62374, R3		; get Mouse X
J67122: MOV	K62376, R4		; get Mouse Y
J67126: MOV	R3, -(SP)
J67130: MOV	R4, -(SP)
J67132: CALL	K62036			; Process input bits into X/Y change
J67136: CALL	J67354
J67142: NOP
J67144: CALL	K61706
J67150: MOV	(SP)+, R4
J67152: MOV	(SP)+, R3
J67154: CALL	J67240
J67160: CALL	K61670
J67164: MOV	#066750, R3
J67170: BLO	J67176
J67172: JMP	K61520
J67176: MOV	K46222, R0		; get input bits
J67202: BIT	#000020, R0
J67206: BNE	J67216
J67210: CALL	J67230
J67214: BR	J67112
J67216: CALL	K61700
J67222: CALL	J67426
J67226: BR	J67102
; Subroutine ??
J67230: MOV	K62374, R3		; get Mouse X
J67234: MOV	K62376, R4		; get Mouse Y
; Entry point
J67240: MOVB	#000377, 017522
J67246: CLR	K17524
J67252: MOV	SP, K17526
J67256: MOV	072026, R2
J67262: SUB	#000002, R2
J67266: MOV	072024, R1
J67272: SUB	#000002, R1
J67276: ASR	R1
J67300: CALL	J67326
J67304: ADD	R1, R3
J67306: INC	R4
J67310: CALL	K15464
J67314: INC	R3
J67316: CALL	K15464
J67322: DEC	R4
J67324: INC	R3
; Entry point
J67326: CALL	K15670
J67332: MOV	R3, -(SP)
J67334: MOV	R4, -(SP)
J67336: ADD	R2, R4
J67340: INC	R4
J67342: CALL	K15670
J67346: MOV	(SP)+, R4
J67350: MOV	(SP)+, R3
J67352: RETURN
; Subroutine ??
J67354: MOV	072024, R0
J67360: MOV	#K62374, R3		; addr Mouse X
J67364: ADD	(R3), R0
J67366: SUB	#000500, R0
J67372: BLO	J67400
J67374: NEG	R0
J67376: ADD	R0, (R3)
J67400: MOV	072026, R0
J67404: INC	R3
J67406: INC	R3
J67410: ADD	(R3), R0
J67412: SUB	#000310, R0
J67416: BLO	J67424
J67420: NEG	R0
J67422: ADD	R0, (R3)
J67424: RETURN
; Subroutine ??
J67426: CALL	J71046
J67432: CALL	J71202
J67436: EMT	340			; .TTYIN
	BLO	.-2
J67442: BIC	#177400, R0
J67446: CMPB	R0, #000015
J67452: BNE	J67460
J67454: JMP	J70242
J67460: MOV	#067432, R3
J67464: MOV	R3, -(SP)
J67466: MOV	R0, -(SP)
J67470: CMPB	R0, #000040
J67474: BHIS	J67502
J67476: JMP	J70046
J67502: CMPB	R0, #000177
J67506: BEQ	J67476
J67510: CMPB	R0, #000300
J67514: BLO	J67524
J67516: BIC	#000100, (SP)
J67522: BR	J67564
J67524: BIC	#000040, R0
J67530: CMP	R0, #000101
J67534: BLO	J67564
J67536: CMP	R0, #000133
J67542: BHIS	J67564
J67544: TST	072070
J67550: BEQ	J67564
J67552: MOV	(SP)+, R0
J67554: MOV	#000040, R2
J67560: XOR	R2, R0
J67562: MOV	R0, -(SP)
J67564: CALL	J71202
;
J67570: MOV	072060, R3
J67574: MOV	#000050, R1
J67600: MOVB	#000377, (R3)+
J67604: SOB	R1, J67600
J67606: CALL	K42334
J67612: COM	K17524
J67616: TST	K17526
J67622: BEQ	J67632
J67624: TST	K17524
J67630: BNE	J67636
J67632: CALL	J70300
J67636: MOV	(SP)+, R0
J67640: SUB	#000040, R0
J67644: ASL	R0
J67646: ASL	R0
J67650: ASL	R0
J67652: MOV	#001402, R3
J67656: ADD	R0, R3
J67660: MOV	072066, R1
J67664: MOV	#000010, R5
J67670: MOV	#072050, R2
J67674: CLR	R0
J67676: BISB	(R3), R0
J67700: TST	R1
J67702: BEQ	J67710
J67704: ASR	R0
J67706: BISB	(R3), R0
J67710: MOVB	R0, (R2)+
J67712: INC	R3
J67714: SOB	R5, J67674
J67716: TST	072064
J67722: BNE	J67746
J67724: MOV	#072050, R3
J67730: MOV	#072040, R2
J67734: MOV	#000010, R5
J67740: MOVB	(R3)+, (R2)+
J67742: SOB	R5, J67740
J67744: BR	J67772
J67746: MOV	#072050, R2
J67752: TST	072030
J67756: BNE	J67766
J67760: CALL	J70604
J67764: BR	J67772
J67766: CALL	J70550
J67772: MOV	072060, R3
J67776: MOV	#072040, R2
J70002: CALL	J70336
J70006: CALL	K42334
J70012: TST	K17526
J70016: BEQ	J70024
J70020: CLR	K17524
J70024: CALL	J70300
J70030: TST	072030
J70034: BNE	J70042
J70036: JMP	J70640
J70042: JMP	J71004
;
J70046: CALL	J71202
J70052: MOV	(SP)+, R0
J70054: CMPB	R0, #000177
J70060: BEQ	J70150
J70062: CMPB	R0, #000033
J70066: BEQ	J70072
J70070: RETURN
J70072: EMT	340			; .TTYIN
	BLO	.-2			;
J70076: CMPB	R0, #000104
J70102: BNE	J70110
J70104: JMP	J70702
J70110: CMPB	R0, #000103
J70114: BNE	J70122
J70116: JMP	J70640
J70122: CMPB	R0, #000102
J70126: BNE	J70134
J70130: JMP	J71004
J70134: CMPB	R0, #000101
J70140: BNE	J70146
J70142: JMP	J70732
J70146: RETURN
J70150: TST	072030
J70154: BNE	J70164
J70156: CALL	J70702
J70162: BR	J70170
J70164: CALL	J70732
J70170: MOV	072032, R3
J70174: MOV	072034, R4
J70200: MOV	R3, -(SP)
J70202: MOV	R4, -(SP)
J70204: MOV	#070224, R3
J70210: MOV	R3, -(SP)
J70212: MOV	#000040, R0
J70216: MOV	R0, -(SP)
J70220: JMP	J67570
;
J70224: MOV	(SP)+, R4
J70226: MOV	(SP)+, R3
J70230: MOV	R3, 072032
J70234: MOV	R4, 072034
J70240: RETURN
;
J70242: CALL	J71202
J70246: MOV	072034, R2
J70252: MOV	072026, R0
J70256: NEG	R0
J70260: ADD	R0, R2
J70262: INC	R2
J70264: MOV	072032, K62374		; get Mouse X
J70272: MOV	R2, K62376		; set Mouse Y
J70276: RETURN
; Subroutine ??
J70300: MOV	072032, R3
J70304: MOV	072034, R4
J70310: MOV	072026, R0
J70314: NEG	R0
J70316: ADD	R0, R4
J70320: INC	R4
J70322: MOV	072060, R5
J70326: DEC	R5
J70330: DEC	R5
J70332: JMP	K16166
; Subroutine ??
J70336: MOVB	#000010, R5
;
J70342: MOV	R5, -(SP)
J70344: MOV	R2, -(SP)
J70346: MOV	072026, R0
J70352: ASR	R0
J70354: ASR	R0
J70356: ASR	R0
J70360: MOV	R0, -(SP)
J70362: MOV	#000010, R5
J70366: MOVB	(R2), R0
J70370: CMP	072024, #000010
J70376: BNE	J70410
J70400: MOV	(SP)+, R5
J70402: MOVB	R0, (R3)+
J70404: SOB	R5, J70402
J70406: BR	J70530
J70410: CMP	072024, #000020
J70416: BNE	J70452
J70420: ROR	R0
J70422: MOV	R0, R1
J70424: ROR	R2
J70426: ROR	R1
J70430: ROR	R2
J70432: SOB	R5, J70420
J70434: MOV	(SP)+, R5
J70436: SWAB	R2
J70440: MOVB	R2, (R3)+
J70442: SWAB	R2
J70444: MOVB	R2, (R3)+
J70446: SOB	R5, J70436
J70450: BR	J70530
J70452: ROR	R0
J70454: MOV	R0, R1
J70456: ROR	R2
J70460: RORB	K25520
J70464: ROR	R1
J70466: ROR	R2
J70470: RORB	K25520
J70474: MOV	R0, R1
J70476: ROR	R1
J70500: ROR	R2
J70502: RORB	K25520
J70506: SOB	R5, J70452
J70510: MOV	(SP)+, R5
J70512: SWAB	R2
J70514: MOVB	R2, (R3)+
J70516: SWAB	R2
J70520: MOVB	R2, (R3)+
J70522: MOVB	K25520, (R3)+
J70526: SOB	R5, J70512
J70530: MOV	(SP)+, R2
J70532: INC	R2
J70534: MOV	(SP)+, R5
J70536: DEC	R5
J70540: BNE	J70544
J70542: RETURN
J70544: JMP	J70342
; Subroutine ??
J70550: MOVB	#000010, R5
J70554: MOV	R5, -(SP)
J70556: MOVB	(R2)+, R0
J70560: MOV	#072040, R3
J70564: MOV	#000010, R5
J70570: ROLB	R0
J70572: RORB	(R3)+
J70574: SOB	R5, J70570
J70576: MOV	(SP)+, R5
J70600: SOB	R5, J70554
J70602: RETURN
; Subroutine ??
J70604: MOV	#000010, R5
J70610: MOV	R5, -(SP)
J70612: MOVB	(R2)+, R0
J70614: MOV	#072040, R3
J70620: MOV	#000010, R5
J70624: RORB	R0
J70626: ROLB	(R3)+
J70630: SOB	R5, J70624
J70632: MOV	(SP)+, R5
J70634: SOB	R5, J70610
J70636: RETURN
;
J70640: MOV	072024, R5
J70644: MOV	072032, R0
J70650: ADD	R5, R0
J70652: MOV	R0, 072032
J70656: CMP	#000500, R0
J70662: BLOS	J70674
J70664: DEC	R0
J70666: ADD	R5, R0
J70670: BLO	J70674
J70672: RETURN
J70674: CLR	072032
J70700: BR	J71004
; Subroutine ??
J70702: MOV	072024, R5
J70706: MOV	072032, R0
J70712: SUB	R5, R0
J70714: MOV	R0, 072032
J70720: BLO	J70724
J70722: RETURN
J70724: MOV	#000477, 072032
; Entry point
J70732: MOV	072026, R5
J70736: MOV	072034, R0
J70742: SUB	R5, R0
J70744: MOV	R0, 072034
J70750: CMP	R0, #000030
J70754: BLO	J70772
J70756: INC	R0
J70760: SUB	R5, R0
J70762: CMP	R0, #000030
J70766: BLO	J70772
J70770: RETURN
J70772: MOV	#000307, R0
J70776: MOV	R0, 072034
J71002: BR	J70702
;
J71004: MOV	072026, R5
J71010: MOV	072034, R0
J71014: ADD	R5, R0
J71016: MOV	R0, 072034
J71022: CMP	R0, #000310
J71026: BHIS	J71032
J71030: RETURN
J71032: MOV	#000027, R0
J71036: ADD	R5, R0
J71040: MOV	R0, 072034
J71044: BR	J70640
; Subroutine ??
J71046: MOV	K62374, R3		; get Mouse X
J71052: MOV	K62376, R4		; get Mouse Y
J71056: MOV	072024, R0
J71062: ADD	R3, R0
J71064: CMP	R0, #000500
J71070: BLO	J71102
J71072: SUB	#000500, R0
J71076: NEG	R0
J71100: ADD	R0, R3
J71102: ADD	072026, R4
J71106: DEC	R4
J71110: CMP	R4, #000310
J71114: BLO	J71122
J71116: MOV	#000307, R4
J71122: MOV	072026, R0
J71126: NEG	R0
J71130: ADD	R4, R0
J71132: SUB	#000027, R0
J71136: BHIS	J71144
J71140: NEG	R0
J71142: ADD	R0, R4
J71144: TST	072072
J71150: BEQ	J71156
J71152: BIC	#000007, R3
J71156: TST	072074
J71162: BEQ	J71170
J71164: BIS	#000007, R4
J71170: MOV	R3, 072032
J71174: MOV	R4, 072034
J71200: RETURN
; Subroutine ??
J71202: MOVB	#000377, 017523
J71210: CLR	K17524
J71214: MOV	SP, K17526
J71220: MOV	072032, R3
J71224: MOV	072034, R4
J71230: MOV	072024, R1
J71234: MOV	072026, R2
J71240: JMP	K15670
; Subroutine ??
J71244: MOV	072020, R0
J71250: MOV	#066146, R3
J71254: BICB	#000002, (R3)
J71260: DECB	R0
J71262: BNE	J71270
J71264: BISB	#000002, (R3)
J71270: MOV	#066202, R3
J71274: BICB	#000002, (R3)
J71300: DECB	R0
J71302: BNE	J71310
J71304: BISB	#000002, (R3)
J71310: MOV	#066236, R3
J71314: BICB	#000002, (R3)
J71320: DECB	R0
J71322: BNE	J71330
J71324: BISB	#000002, (R3)
J71330: MOV	072022, R0
J71334: MOV	#066310, R3
J71340: BICB	#000002, (R3)
J71344: DECB	R0
J71346: BNE	J71354
J71350: BISB	#000002, (R3)
J71354: MOV	#066344, R3
J71360: BICB	#000002, (R3)
J71364: DECB	R0
J71366: BNE	J71374
J71370: BISB	#000002, (R3)
J71374: MOV	#066400, R3
J71400: BICB	#000002, (R3)
J71404: DECB	R0
J71406: BNE	J71414
J71410: BISB	#000002, (R3)
J71414: RETURN
J71416: CALL	J71244
J71422: CALL	J71474
J71426: CALL	J71570
J71432: CALL	J71670
J71436: CALL	J71712
J71442: CALL	J71734
J71446: CALL	J71756
J71452: JMP	J72000
;
; Выбрана высота (Нормал. / Двойная / Тройная) в меню "Текст"
J71456: MOVB	025521, R0
J71462: DEC	R0
J71464: MOV	R0, 072020
J71470: CALL	J71244
; Entry point
J71474: MOV	072020, R0
J71500: MOV	#000326, R3
J71504: MOV	#000063, R4
J71510: DEC	R0
J71512: CALL	J71642
J71516: MOV	#000326, R3
J71522: MOV	#000075, R4
J71526: DEC	R0
J71530: CALL	J71642
J71534: MOV	#000326, R3
J71540: MOV	#000107, R4
J71544: DEC	R0
J71546: BR	J71642
; Выбрана ширина (Нормал. / Двойная / Тройная) в меню "Текст"
J71550: MOVB	025521, R0
J71554: SUB	#000004, R0
J71560: MOV	R0, 072022
J71564: CALL	J71244
; Entry point
J71570: MOV	072022, R0
J71574: MOV	#000326, R3
J71600: MOV	#000123, R4
J71604: DEC	R0
J71606: CALL	J71642
J71612: MOV	#000326, R3
J71616: MOV	#000135, R4
J71622: DEC	R0
J71624: CALL	J71642
J71630: MOV	#000326, R3
J71634: MOV	#000147, R4
J71640: DECB	R0
; Entry point
J71642: MOV	R0, -(SP)
J71644: BEQ	J71652
J71646: CLR	R0
J71650: BR	J71654
J71652: MOV	SP, R0
J71654: CALL	K17070
J71660: MOV	(SP)+, R0
J71662: RETURN
J71664: COM	072064
; Entry point
J71670: MOV	072064, R0
J71674: MOV	#000256, R3
J71700: MOV	#000163, R4
J71704: BR	J72014
J71706: COM	072066
; Entry point
J71712: MOV	072066, R0
J71716: MOV	#000316, R3
J71722: MOV	#000175, R4
J71726: BR	J72014
J71730: COM	072070
; Entry point
J71734: MOV	072070, R0
J71740: MOV	#000270, R3
J71744: MOV	#000207, R4
J71750: BR	J72014
J71752: COM	072072
; Entry point
J71756: MOV	072072, R0
J71762: MOV	#000316, R3
J71766: MOV	#000223, R4
J71772: BR	J72014
J71774: COM	072074
; Entry point
J72000: MOV	072074, R0
J72004: MOV	#000316, R3
J72010: MOV	#000235, R4
J72014: JMP	K17154
;
J72020: .WORD	000003			; ??
J72022: .WORD	000001			; ??
J72024: .WORD	0			; ??
J72026: .WORD	0			; ??
J72030: .WORD	0			; ??
J72032: .WORD	0			; ??
J72034: .WORD	0			; ??
J72036: .WORD	0			; ??
J72040: .WORD	0			; ??

	.BLKW	14.

; Overlay call
ART11::
J72076: MOV	#103600, K30536
J72104: MOV	#000001, R0
J72110: CALL	K42704
J72114: MOV	#034000, R0
J72120: CALL	K25024
J72124: MOV	#072166, R5
J72130: JMP	K63646
;
J72134: .WORD	001402,017522,062374,062376,046222,017524,017526,041530
	.WORD	056110,056116,056120,056122,056124
J72166: .WORD	000000,000000,000500,000304,034400,000000,075512
	.WORD	000000,000000,000477,000015,000000,154000
	.BYTE	035,035,035,035,035,035,035,035
	.ASCII	/ Редактор шрифта /
	.BYTE	035,035,035,035,035,035,035,035,000
	.WORD	000030,000020,000014,000015,074176,154000
	.BYTE	031,000
	.WORD	000043,000020,000044,000015,K41530,150000
	.ASCII	/Файл/<000><000>
	.WORD	000106,000020,000101,000015,073140,150000
	.ASCII	/Символ/<000><000>
	.WORD	000206,000020,000060,000015,073500,150000
	.ASCII	/Шрифт/<000>
	.WORD	000265,000020,000057,000015,076760,150000
	.ASCII	/Смесь/<000>
	.WORD	000343,000020,000052,000015,075502,154000
	.ASCII	/Меню/<000><000>
	.WORD	000414,000020,000014,000015,074224,154000
	.BYTE	032,000
	.WORD	000040,000060,000101,000101,074560,044000
	.WORD	000000
	.WORD	000170,000060,000101,000101,074634,044000
	.WORD	000000
	.WORD	000320,000060,000101,000101,074676,044000
	.WORD	000000
	.WORD	000000,000210,000500,000076,074036,004000
	.WORD	000000
	.WORD	177777
;
J72544: MOV	056122, R1
J72550: MOV	056124, R2
J72554: MOV	056116, R3
J72560: MOV	056120, R4
J72564: MOV	077142, R0
J72570: MOV	R0, K25524
J72574: CALL	J75066
J72600: MOV	#000010, K25520
J72606: MOV	R1, -(SP)
J72610: MOV	R2, -(SP)
J72612: MOV	R3, -(SP)
J72614: MOV	R4, -(SP)
J72616: MOV	R5, -(SP)
J72620: CALL	J72726
J72624: MOV	(SP)+, R5
J72626: INC	R5
J72630: MOV	(SP)+, R4
J72632: MOV	(SP)+, R3
J72634: INC	R4
J72636: MOV	(SP)+, R2
J72640: MOV	(SP)+, R1
J72642: DEC	R2
J72644: BEQ	J72710
J72646: DEC	K25520
J72652: BNE	J72606
J72654: MOV	R1, R0
J72656: DEC	R0
J72660: ASR	R0
J72662: ASR	R0
J72664: ASR	R0
J72666: INC	R0
J72670: ADD	K25524, R0
J72674: CMP	R0, #000240
J72700: BLO	J72706
J72702: SUB	#000240, R0
J72706: BR	J72570
J72710: BISB	#000002, 077050
J72716: CLR	056110
J72722: JMP	J75632
; Subroutine ??
J72726: MOV	K25524, 073102
J72734: MOV	R3, K25516
J72740: BIC	#177770, K25516
J72746: CALL	K30060
J72752: MTPS	#000340
J72756: BIC	#000140, K25506
J72764: MOV	K25506, @#177400	; Memory control MS0515
J72772: MOVB	(R3)+, 025523
J72776: MOVB	(R3), K25522
J73002: BIS	#000140, K25506
J73010: MOV	K25506, @#177400	; Memory control MS0515
J73016: MTPS	#000000
J73022: MOV	K25516, R0
J73026: TST	R0
J73030: BEQ	J73044
J73032: ASLB	K25522
J73036: ROLB	025523
J73042: SOB	R0, J73032
J73044: MOVB	025523, (R5)
J73050: ADD	#000010, R5
J73054: INC	073102
J73060: MOV	073102, R0
J73064: INC	R0
J73066: CMP	R0, #000240
J73072: BLO	J73104
J73074: SUB	#002400, R5
J73100: CLR	#000000
J73104: MOV	R1, R0
J73106: TST	R0
J73110: BNE	J73120
J73112: MOV	#000370, R1
J73116: BR	J72752
J73120: SUB	#000010, R0
J73124: MOV	R0, R1
J73126: BNE	J73132
J73130: RETURN
J73132: BHIS	J73136
J73134: RETURN
J73136: BR	J72752
;
; Выбрано "Файл" в окне "Редактор шрифта"
J73140: .WORD	000050,000020,000130,000150,013540,000000,000000
	.WORD	000000,000000,000130,000016,000000,154000
	.ASCII	/Символ/<000><000>
	.WORD	000000,000016,000130,000003,000000,104200
	.WORD	000000
	.WORD	000000,000020,000130,000015,075656,107600
	.ASCII	/Очистить/<000><000>
	.WORD	000000,000034,000130,000015,075736,107600
	.ASCII	/Инверт/<000><000>
	.WORD	000000,000050,000130,000015,076002,107600
	.ASCII	/Flip hrz./<000>
	.WORD	000000,000064,000130,000015,076106,107600
	.ASCII	/Flip vrt./<000>
	.WORD	000000,000100,000130,000015,076212,107600
	.ASCII	/Поворот 1-4/<000>
	.WORD	000000,000114,000130,000015,076354,107600
	.ASCII	/Сдвиг вправ./<000><000>
	.WORD	000000,000130,000130,000015,076440,107600
	.ASCII	/Сдвиг вниз/<000><000>
	.WORD	000000,000144,000130,000004,000000,104200
	.WORD	000000
	.WORD	177777
;
; Выбрано "Символ" в окне "Редактор шрифта"
J73500: .WORD	000150,000020,000130,000150,013540,000000,000000
	.WORD	000000,000000,000130,000016,000000,154000
	.ASCII	/Шрифт/<000>
	.WORD	000000,000016,000130,000003,000000,104200
	.WORD	000000
	.WORD	000000,000020,000130,000015,076604,100600
	.ASCII	/Очистить/<000><000>
	.WORD	000000,000034,000130,000015,075762,107600
	.ASCII	/Инверт/<000><000>
	.WORD	000000,000050,000130,000015,076050,107600
	.ASCII	/Flip hrz./<000>
	.WORD	000000,000064,000130,000015,076164,107600
	.ASCII	/Flip vrt./<000>
	.WORD	000000,000100,000130,000015,076316,107600
	.ASCII	/Поворот 1-4/<000>
	.WORD	000000,000114,000130,000015,076410,107600
	.ASCII	/Сдвиг вправ./<000><000>
	.WORD	000000,000130,000130,000015,076514,107600
	.ASCII	/Сдвиг вниз/<000><000>
	.WORD	000000,000144,000130,000004,000000,104200
	.WORD	000000
	.WORD	177777
;
J74036: MOV	K62374, R3		; get Mouse X
J74042: MOV	K62376, R4		; get Mouse Y
J74046: MOV	#000212, R2
J74052: MOV	#000000, R1
J74056: SUB	R2, R4
J74060: MOV	R3, R0
J74062: MOV	#177777, R3
J74066: MOV	#000012, R5
J74072: INC	R3
J74074: SUB	R5, R0
J74076: BHIS	J74072
J74100: ADD	R5, R0
J74102: BNE	J74106
J74104: RETURN
J74106: MOV	R3, R0
J74110: CMP	R0, #000040
J74114: BLO	J74120
J74116: RETURN
J74120: MOV	R4, R0
J74122: MOV	#177777, R4
J74126: MOV	#000014, R5
J74132: INC	R4
J74134: SUB	R5, R0
J74136: BHIS	J74132
J74140: ADD	R5, R0
J74142: BNE	J74146
J74144: RETURN
J74146: MOV	R4, R0
J74150: CMP	R0, #000005
J74154: BLO	J74160
J74156: RETURN
J74160: ASL	R0
J74162: ASL	R0
J74164: ASL	R0
J74166: ASL	R0
J74170: ASL	R0
J74172: ADD	R3, R0
J74174: BR	J74250
J74176: MOV	#074204, R3
J74202: BR	J74304
J74204: MOV	077142, R0
J74210: SUB	#000001, R0
J74214: BHIS	J74222
J74216: MOV	#000237, R0
J74222: BR	J74250
;
J74224: MOV	#074232, R3
J74230: BR	J74304
J74232: MOV	077142, R0
J74236: INC	R0
J74240: CMP	R0, #000240
J74244: BLO	J74250
J74246: CLR	R0
J74250: MOV	R0, -(SP)
J74252: CALL	J74436
J74256: MOV	(SP)+, R0
J74260: MOV	R0, 077142
J74264: CALL	J74436
J74270: CALL	J74752
J74274: CALL	J75002
J74300: JMP	J75020
J74304: MOV	R3, -(SP)
J74306: CALL	J74434
J74312: MOV	(SP)+, R3
J74314: MOV	#001777, R5
J74320: CALL	K25244
J74324: CALL	J74410
J74330: CALL	K12054
J74334: CALL	K25244
J74340: NOP
J74342: SOB	R5, J74340
J74344: MOVB	#000012, 025521
J74352: CALL	K25244
J74356: CALL	K13110
J74362: CALL	J74410
J74366: CALL	K25244
J74372: MOV	R3, -(SP)
J74374: CALL	K25244
J74400: MOV	(SP)+, R3
J74402: CALL	J74434
J74406: BR	J74324
; Subroutine ??
J74410: CALL	K45776			; Read input and set input bits
J74414: MOV	K46222, R0		; get input bits
J74420: BIT	#177757, R0
J74424: BEQ	J74430
J74426: RETURN
J74430: MOV	(SP)+, R3
J74432: RETURN
; Subroutine ??
J74434: JMP	(R3)
; Subroutine ??
J74436: MOVB	#000377, 017523
J74444: CLR	K17524
J74450: MOV	SP, K17526
J74454: MOV	077142, R0
J74460: CALL	J75242
J74464: DEC	R3
J74466: MOV	R3, -(SP)
J74470: MOV	R4, -(SP)
J74472: TST	-(R4)
J74474: MOV	#000012, R1
J74500: CALL	K15670
J74504: INC	R4
J74506: MOV	#000001, R2
J74512: CALL	K15464
J74516: ADD	#000011, R3
J74522: CALL	K15464
J74526: MOV	(SP)+, R4
J74530: MOV	(SP)+, R3
J74532: ADD	#000011, R4
J74536: CALL	K15670
J74542: DEC	R4
J74544: CALL	K15464
J74550: ADD	#000011, R3
J74554: JMP	K15464
;
J74560: MOV	077142, R0
J74564: SUB	#000001, R0
J74570: BHIS	J74576
J74572: MOV	#000237, R0
J74576: CALL	J75066
J74602: MOV	#000060, R4
J74606: MOV	#000040, R3
J74612: MOV	#000010, R1
J74616: MOV	#000010, R2
J74622: CALL	K14240
J74626: NOP
J74630: JMP	J75104
;
J74634: MOV	077142, R0
J74640: CALL	J75066
J74644: MOV	#000060, R4
J74650: MOV	#000170, R3
J74654: MOV	#000010, R1
J74660: MOV	#000010, R2
J74664: CALL	K14240
J74670: NOP
J74672: JMP	J75124
J74676: MOV	077142, R0
J74702: INC	R0
J74704: CMP	R0, #000240
J74710: BLO	J74714
J74712: CLR	R0
J74714: CALL	J75066
J74720: MOV	#000060, R4
J74724: MOV	#000320, R3
J74730: MOV	#000010, R1
J74734: MOV	#000010, R2
J74740: CALL	K14240
J74744: NOP
J74746: JMP	J75132
; Subroutine ??
J74752: MOV	#000060, R4
J74756: MOV	#000040, R3
J74762: MOV	077142, R0
J74766: SUB	#000001, R0
J74772: BHIS	J75000
J74774: MOV	#000237, R0
J75000: BR	J75046
; Subroutine ??
J75002: MOV	#000060, R4
J75006: MOV	#000170, R3
J75012: MOV	077142, R0
J75016: BR	J75046
;
J75020: MOV	#000060, R4
J75024: MOV	#000320, R3
J75030: MOV	077142, R0
J75034: INC	R0
J75036: CMP	R0, #000240
J75042: BLO	J75046
J75044: CLR	R0
J75046: CALL	J75066
J75052: MOV	#000010, R1
J75056: MOV	#000010, R2
J75062: JMP	K14060
; Subroutine ??
J75066: MOV	R0, R5
J75070: ASL	R5
J75072: ASL	R5
J75074: ASL	R5
J75076: ADD	#001402, R5
J75102: RETURN
;
J75104: MOV	077142, R0
J75110: SUB	#000001, R0
J75114: BHIS	J75122
J75116: MOV	#000237, R0
J75122: BR	J75150
;
J75124: MOV	077142, R0
J75130: BR	J75150
;
J75132: MOV	077142, R0
J75136: INC	R0
J75140: CMP	R0, #000240
J75144: BLO	J75150
J75146: CLR	R0
J75150: CLR	R4
J75152: MOV	R0, R3
J75154: ASL	R3
J75156: ASL	R3
J75160: ASL	R3
J75162: ADD	#001402, R3
J75166: MOV	R3, -(SP)
J75170: CALL	J75242
J75174: MOV	R3, -(SP)
J75176: MOV	R4, -(SP)
J75200: MOV	#000010, R1
J75204: MOV	#000010, R2
J75210: MOVB	#000377, 025521
J75216: CALL	K13760
J75222: MOVB	#000377, 017523
J75230: MOV	(SP)+, R4
J75232: MOV	(SP)+, R3
J75234: MOV	(SP)+, R2
J75236: JMP	K16672
; Subroutine ??
J75242: MOV	#000212, R4
J75246: CMP	R0, #000040
J75252: BLO	J75336
J75254: SUB	#000040, R0
J75260: MOV	#000226, R4
J75264: CMP	R0, #000040
J75270: BLO	J75336
J75272: SUB	#000040, R0
J75276: MOV	#000242, R4
J75302: CMP	R0, #000040
J75306: BLO	J75336
J75310: SUB	#000040, R0
J75314: MOV	#000256, R4
J75320: CMP	R0, #000040
J75324: BLO	J75336
J75326: SUB	#000040, R0
J75332: MOV	#000272, R4
J75336: INC	R0
J75340: MOV	R0, R5
J75342: MOV	#177767, R3
J75346: ADD	#000012, R3
J75352: SOB	R5, J75346
J75354: RETURN
;
; Выбрано "Очистить" в "Редактор шрифта" / "Файл"
J75356: MOV	#000210, R4
J75362: CLR	R3
J75364: MOV	#000074, R2
J75370: MOV	#000500, R1
J75374: MOVB	#000377, 025521
J75402: CALL	K13760
J75406: MOVB	#000377, 017523
J75414: MOV	#001402, R2
J75420: MOV	#000212, R4
J75424: MOV	#000005, R5
J75430: MOV	R5, -(SP)
J75432: CLR	R3
J75434: INC	R3
J75436: MOV	#000040, R5
J75442: MOV	R5, -(SP)
J75444: MOV	R3, -(SP)
J75446: MOV	R4, -(SP)
J75450: CALL	K16672
J75454: MOV	(SP)+, R4
J75456: MOV	(SP)+, R3
J75460: ADD	#000012, R3
J75464: MOV	(SP)+, R5
J75466: SOB	R5, J75442
J75470: ADD	#000014, R4
J75474: MOV	(SP)+, R5
J75476: SOB	R5, J75430
J75500: RETURN
J75502: CLR	056110
J75506: JMP	K24742
;
J75512: MOV	SP, 024452
J75516: MOVB	#000377, 017523
J75524: CLR	K17524
J75530: MOV	SP, K17526
J75534: MOV	#000050, R4
J75540: MOV	#000160, R3
J75544: MOV	#000121, R1
J75550: CALL	K15670
J75554: INC	R4
J75556: MOV	#000010, R2
J75562: CALL	K15464
J75566: ADD	#000120, R3
J75572: CALL	K15464
J75576: MOV	#000171, R4
J75602: MOV	#000160, R3
J75606: CALL	K15670
J75612: SUB	#000010, R4
J75616: CALL	K15464
J75622: ADD	#000120, R3
J75626: CALL	K15464
;
J75632: CALL	J75356
J75636: CALL	J74436
J75642: CALL	J74752
J75646: CALL	J75002
J75652: JMP	J75020
J75656: MOV	077142, R0
J75662: CALL	J75066
J75666: MOV	#000010, R1
J75672: CLRB	(R5)+
J75674: SOB	R1, J75672
; Entry point (6 usages)
J75676: CALL	J75002
J75702: JMP	J75124
J75706: CALL	K63530
J75712: MOV	#001402, R3
J75716: MOV	#002400, R1
J75722: CLRB	(R3)+
J75724: SOB	R1, J75722
J75726: CLR	077142
J75732: JMP	J75632
J75736: MOV	077142, R0
J75742: CALL	J75066
J75746: MOV	#000010, R1
J75752: COMB	(R5)+
J75754: SOB	R1, J75752
J75756: JMP	J75676
J75762: MOV	#001402, R3
J75766: MOV	#002400, R1
J75772: COMB	(R3)+
J75774: SOB	R1, J75772
J75776: JMP	J75632
J76002: MOV	077142, R0
J76006: CALL	J75066
J76012: CALL	J76022
J76016: JMP	J75676
; Subroutine ??
J76022: MOV	#000004, R1
J76026: MOV	R5, R3
J76030: MOVB	(R3), R0
J76032: MOVB	000007(R5), (R3)+
J76036: MOVB	R0, 000007(R5)
J76042: DEC	R5
J76044: SOB	R1, J76030
J76046: RETURN
J76050: MOV	#001402, R5
J76054: MOV	#000240, R1
J76060: MOV	R1, -(SP)
J76062: MOV	R5, -(SP)
J76064: CALL	J76022
J76070: MOV	(SP)+, R5
J76072: ADD	#000010, R5
J76076: MOV	(SP)+, R1
J76100: SOB	R1, J76060
J76102: JMP	J75632
J76106: MOV	077142, R0
J76112: CALL	J75066
J76116: MOV	#000010, R1
J76122: MOV	R1, -(SP)
J76124: CALL	J76140
J76130: MOV	(SP)+, R1
J76132: SOB	R1, J76122
J76134: JMP	J75676
; Subroutine ??
J76140: MOVB	(R5), R0
J76142: MOV	#000010, R1
J76146: ROR	R0
J76150: ROLB	K25520
J76154: SOB	R1, J76146
J76156: MOVB	K25520, (R5)+
J76162: RETURN
J76164: MOV	#001402, R5
J76170: MOV	#002400, R1
J76174: MOV	R1, -(SP)
J76176: CALL	J76140
J76202: MOV	(SP)+, R1
J76204: SOB	R1, J76174
J76206: JMP	J75632
J76212: MOV	077142, R0
J76216: CALL	J75066
J76222: CALL	J76232
J76226: JMP	J75676
; Subroutine ??
J76232: ADD	#000010, R5
J76236: MOV	#000010, R1
J76242: MOV	R1, -(SP)
J76244: MOVB	-(R5), R0
J76246: MOV	K30536, R3
J76252: INC	R3
J76254: INC	R3
J76256: MOV	#000010, R1
J76262: ROLB	R0
J76264: ROLB	(R3)+
J76266: SOB	R1, J76262
J76270: MOV	(SP)+, R1
J76272: SOB	R1, J76242
J76274: MOV	#000010, R1
J76300: MOV	K30536, R3
J76304: INC	R3
J76306: INC	R3
J76310: MOVB	(R3)+, (R5)+
J76312: SOB	R1, J76310
J76314: RETURN
J76316: MOV	#001402, R5
J76322: MOV	#000240, R1
J76326: MOV	R1, -(SP)
J76330: MOV	R5, -(SP)
J76332: CALL	J76232
J76336: MOV	(SP)+, R5
J76340: ADD	#000010, R5
J76344: MOV	(SP)+, R1
J76346: SOB	R1, J76326
J76350: JMP	J75632
J76354: MOV	077142, R0
J76360: CALL	J75066
J76364: MOV	#000010, R1
J76370: MOVB	(R5), K25524
J76374: RORB	K25524
J76400: RORB	(R5)+
J76402: SOB	R1, J76370
J76404: JMP	J75676
J76410: MOV	#001402, R3
J76414: MOV	#002400, R1
J76420: MOVB	(R3), K25524
J76424: RORB	K25524
J76430: RORB	(R3)+
J76432: SOB	R1, J76420
J76434: JMP	J75632
J76440: MOV	077142, R0
J76444: CALL	J75066
J76450: CALL	J76460
J76454: JMP	J75676
; Subroutine ??
J76460: MOV	#000010, R1
J76464: MOVB	000007(R5), K25520
J76472: MOVB	000006(R5), 000007(R5)
J76500: DEC	R5
J76502: SOB	R1, J76472
J76504: MOVB	K25520, 000010(R5)
J76512: RETURN
J76514: MOV	#001402, R5
J76520: MOV	#000240, R1
J76524: MOV	R1, -(SP)
J76526: MOV	R5, -(SP)
J76530: CALL	J76460
J76534: MOV	(SP)+, R5
J76536: MOV	#000010, R1
J76542: ADD	R1, R5
J76544: MOV	(SP)+, R1
J76546: SOB	R1, J76524
J76550: JMP	J75632
J76554: MOV	<K64624+2>, R3
J76560: MOV	#001402, R2
J76564: MOV	#002400, R1
J76570: MOVB	(R3)+, (R2)+
J76572: SOB	R1, J76570
J76574: CLR	077142
J76600: JMP	J75632
;
; Выбрано "Очистить" в "Редактор шрифта" / "Символ"
J76604: .WORD	000130,000040,000230,000050,034740,000000,000000
	.WORD	000000,000000,000230,000022,000000,014000
	.ASCII	/Очистить весь шрифт ?/<000>
	.WORD	000014,000022,000060,000017,075706,057400
	.ASCII	/Да/<000><000>
	.WORD	000114,000022,000060,000017,063530,056400
	.ASCII	/Отмена/<000><000>
	.WORD	177777
;
J76732: BICB	#000002, 077050
J76740: TST	056110
J76744: BEQ	J76750
J76746: RETURN
J76750: BISB	#000002, 077050
J76756: RETURN
;
; Выбрано "Смесь" в "Редактор шрифта"
J76760: .WORD	000210,000020,000150,000060,013540,000000,076732
	.WORD	000000,000000,000150,000016,000000,154000
	.ASCII	/Смесь/<000>
	.WORD	000000,000016,000150,000005,000000,104200
	.WORD	000000
	.WORD	000000,000022,000150,000015,072544,107600
	.ASCII	/Захват шрифта/<000>
	.WORD	000000,000036,000150,000015,076554,107600
	.ASCII	/Копировн. ПЗУ/<000>
	.WORD	000000,000052,000150,000006,000000,104200
	.WORD	000000
	.WORD	177777
J77142:

	.BLKW	1.

	.END
